

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Point to Sub-Tensor &mdash; embARC Machine Learning Inference Library 1.00 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/style_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Convert Tensor" href="convert_tensor.html" />
    <link rel="prev" title="Count Number of Elements" href="count_no_elements.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> embARC Machine Learning Inference Library
          

          
          </a>

          
            
            
              <div class="version">
                1.00
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../library_model/library_model.html">Library Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MLI_FP_data_format/MLI_FP_data_format.html">MLI Fixed-Point Data Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MLI_kernels/MLI_kernels.html">MLI Kernels</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="MLI_helpers.html">MLI Helpers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="get_basic_elem_size.html">Get Basic Element Size</a></li>
<li class="toctree-l2"><a class="reference internal" href="count_no_elements.html">Count Number of Elements</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Point to Sub-Tensor</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#function-configuration-structure">Function Configuration Structure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#definition">Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameters">Parameters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#kernel-interface">Kernel Interface</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#prototype">Prototype</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id1">Parameters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#conditions-for-applying-the-function">Conditions for Applying the Function</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="convert_tensor.html">Convert Tensor</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Examples_Tutorials/Examples_Tutorials.html">Examples and Tutorials</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">embARC Machine Learning Inference Library</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="MLI_helpers.html">MLI Helpers</a> &raquo;</li>
        
      <li>Point to Sub-Tensor</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/MLI_helpers/point_to_sub_tensor.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="point-to-sub-tensor">
<span id="point-sub-tensor"></span><h1>Point to Sub-Tensor<a class="headerlink" href="#point-to-sub-tensor" title="Permalink to this headline">¶</a></h1>
<p>This function points to sub tensors in the input tensor. This function can be
considered as indexing in a multidimensional array without copying.</p>
<p>For example, given a feature map IN in CHW layout of shape [8, 4,
16], the function returns several sequential channels as output
tensor without copying the data. Comparing with python syntax, this
is similar to slice IN[2:4][:][:] and results in a tensor of shape
[2,4,16] that points to channels #2 and #3.</p>
<p>In terms of configuration for considering functions (see
<a class="reference internal" href="#fn-conf-psubt"><span class="std std-ref">Function Configuration Structure</span></a>):</p>
<p><code class="docutils literal notranslate"><span class="pre">start_coord</span> <span class="pre">=</span> <span class="pre">{2};</span> <span class="pre">coord_num=1;</span> <span class="pre">first_out_dim_size=2;</span></code></p>
<p>Similarly, rows can be obtained from one of the channels. IN[3][2:3][:]
results in tensor of shape [1,16] (row #2 of channel#3).
In terms of configuration for considering functions:</p>
<p><code class="docutils literal notranslate"><span class="pre">start_coord</span> <span class="pre">=</span> <span class="pre">{3,</span> <span class="pre">2};</span> <span class="pre">coord_num=2;</span> <span class="pre">first_out_dim_size=1;</span></code></p>
<p>This function performs operations on pointers and does not copy data
(only points to subsequent data in input). Hence, this
function takes only parameters that can be translated to starting
coordinates and size of required data.</p>
<div class="section" id="function-configuration-structure">
<span id="fn-conf-psubt"></span><h2>Function Configuration Structure<a class="headerlink" href="#function-configuration-structure" title="Permalink to this headline">¶</a></h2>
<div class="section" id="definition">
<h3>Definition<a class="headerlink" href="#definition" title="Permalink to this headline">¶</a></h3>
<div class="code c highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">typedef</span> <span class="n">struct</span> <span class="p">{</span>
    <span class="n">uint32_t</span>
    <span class="n">start_coord</span><span class="p">[</span><span class="n">MLI_MAX_RANK</span><span class="p">];</span>
    <span class="n">uint8_t</span> <span class="n">coord_num</span><span class="p">;</span>
    <span class="n">uint8_t</span> <span class="n">first_out_dim_size</span><span class="p">;</span>
<span class="p">}</span> <span class="n">mli_point_to_subtsr_cfg</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h3>
<table border="1" class="colwidths-given docutils" id="id2">
<caption><span class="caption-text">Function Configuration Parameters</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Fields</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">start_coord</span></code></td>
<td>Coordinates to sub
tensor. Each
coordinate
corresponds to the
dimension of the
input tensor starting
from the first one.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">coord_num</span></code></td>
<td>Number of coordinates</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">first_out_dim_size</span></code></td>
<td>Size of the first
dimension in output
tensor</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="kernel-interface">
<span id="api-17"></span><h2>Kernel Interface<a class="headerlink" href="#kernel-interface" title="Permalink to this headline">¶</a></h2>
<div class="section" id="prototype">
<h3>Prototype<a class="headerlink" href="#prototype" title="Permalink to this headline">¶</a></h3>
<div class="code c highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mli_status</span> <span class="n">mli_hlp_point_to_subtensor</span><span class="p">(</span>
  <span class="n">const</span> <span class="n">mli_tensor</span> <span class="o">*</span><span class="ow">in</span><span class="p">,</span>
  <span class="n">const</span> <span class="n">mli_point_to_subtsr_cfg</span> <span class="o">*</span><span class="n">cfg</span><span class="p">,</span>
  <span class="n">mli_tensor</span> <span class="o">*</span><span class="n">out</span>
  <span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id1">
<h3>Parameters<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<table border="1" class="colwidths-given docutils" id="id3">
<caption><span class="caption-text">Kernel Interface Parameters</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Parameters</strong></th>
<th class="head"><strong>Description</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">in</span></code></td>
<td>[IN] Pointer to input tensor</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">cfg</span></code></td>
<td>[IN] Pointer to the function configuration structure</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">out</span></code></td>
<td>[OUT] Pointer to output tensor for storing the result</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="conditions-for-applying-the-function">
<span id="conditions-for-applying-the-function-6"></span><h2>Conditions for Applying the Function<a class="headerlink" href="#conditions-for-applying-the-function" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Input must be a valid tensor (see <a class="reference internal" href="../library_model/data.html#mli-tns-struct"><span class="std std-ref">mli_tensor Structure</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">out</span></code> must point to tensor structure.</li>
<li>Configuration structure fields have the following conditions:<ul>
<li>The number of coordinates must be less than the input tensor rank</li>
<li>Each coordinate must be less than the corresponding input
dimension size</li>
</ul>
</li>
<li>Sum of <code class="docutils literal notranslate"><span class="pre">first_dim_size</span></code> field and the last coordinate must be less than or equal to the corresponding dimension in input tensor.</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="convert_tensor.html" class="btn btn-neutral float-right" title="Convert Tensor" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="count_no_elements.html" class="btn btn-neutral float-left" title="Count Number of Elements" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Synopsys, Inc

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>