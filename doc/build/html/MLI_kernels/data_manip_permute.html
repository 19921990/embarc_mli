

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Permute &mdash; embARC Machine Learning Inference Library 1.00 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/style_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Padding 2D" href="data_manip_pad2d.html" />
    <link rel="prev" title="Concatenation" href="data_manip_concat.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> embARC Machine Learning Inference Library
          

          
          </a>

          
            
            
              <div class="version">
                1.00
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../library_model/library_model.html">Library Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MLI_FP_data_format/MLI_FP_data_format.html">MLI Fixed-Point Data Format</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="MLI_kernels.html">MLI Kernels</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="convolution_grp.html">Convolution Group</a></li>
<li class="toctree-l2"><a class="reference internal" href="pooling_grp.html">Pooling Group</a></li>
<li class="toctree-l2"><a class="reference internal" href="common_grp.html">Common Group</a></li>
<li class="toctree-l2"><a class="reference internal" href="transform_grp.html">Transform Group</a></li>
<li class="toctree-l2"><a class="reference internal" href="elementwise_grp.html">Element-wise Group</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="data_manipulation_grp.html">Data Manipulation Group</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="data_manip_concat.html">Concatenation</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Permute</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#function-configuration-structure">Function Configuration Structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#kernel-interface">Kernel Interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="#kernel-specializations">Kernel Specializations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#conditions-for-applying-the-kernel">Conditions for Applying the Kernel</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data_manip_pad2d.html">Padding 2D</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../MLI_helpers/MLI_helpers.html">MLI Helpers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Examples_Tutorials/Examples_Tutorials.html">Examples and Tutorials</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">embARC Machine Learning Inference Library</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="MLI_kernels.html">MLI Kernels</a> &raquo;</li>
        
          <li><a href="data_manipulation_grp.html">Data Manipulation Group</a> &raquo;</li>
        
      <li>Permute</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/MLI_kernels/data_manip_permute.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="permute">
<span id="id1"></span><h1>Permute<a class="headerlink" href="#permute" title="Permalink to this headline">¶</a></h1>
<p>The kernel permutes dimensions of input tensor according to provided
order. In other words, it transposes input tensors.</p>
<p>The new order of dimensions is given by <code class="docutils literal notranslate"><span class="pre">perm_dim</span></code> array of kernel
configuration structure. Output dimension <code class="docutils literal notranslate"><span class="pre">idx</span></code> corresponds to the
dimension of input tensor with <code class="docutils literal notranslate"><span class="pre">perm_dim[idx]</span></code>. Tensor’s data is
reordered according to new shape.</p>
<p>For example, if input tensors have the shape [2, 4, 8] and <code class="docutils literal notranslate"><span class="pre">perm_dim</span></code>
order is (2, 0, 1) then output tensor is of the shape [8, 2, 4]. This
transpose reflects changing the feature map layout from HWC to CHW.</p>
<div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">Ensure that input and output
tensors do not point to
overlapped memory regions,
otherwise the behavior is
undefined.</p>
</div>
<div class="section" id="function-configuration-structure">
<span id="function-configuration-structure-17"></span><h2>Function Configuration Structure<a class="headerlink" href="#function-configuration-structure" title="Permalink to this headline">¶</a></h2>
<div class="section" id="definition">
<h3>Definition<a class="headerlink" href="#definition" title="Permalink to this headline">¶</a></h3>
<div class="code c highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">typedef</span> <span class="n">struct</span> <span class="p">{</span>
   <span class="nb">int</span> <span class="n">perm_dim</span><span class="p">[</span><span class="n">MLI_MAX_RANK</span><span class="p">];</span>
<span class="p">}</span>  <span class="n">mli_permute_cfg</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h3>
<table border="1" class="colwidths-given docutils" id="id3">
<caption><span class="caption-text">Function Configuration Parameters</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Field</strong></th>
<th class="head"><strong>Description</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">perm_dim</span></code></td>
<td>A permutation array.
Dimensions order for
output tensor.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="kernel-interface">
<span id="api-13"></span><h2>Kernel Interface<a class="headerlink" href="#kernel-interface" title="Permalink to this headline">¶</a></h2>
<div class="section" id="prototype">
<h3>Prototype<a class="headerlink" href="#prototype" title="Permalink to this headline">¶</a></h3>
<div class="code c highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mli_status</span> <span class="n">mli_krn_permute_fx</span> <span class="p">(</span>
   <span class="n">const</span> <span class="n">mli_tensor</span> <span class="o">*</span><span class="ow">in</span><span class="p">,</span>
   <span class="n">const</span> <span class="n">mli_permute_cfg</span> <span class="o">*</span><span class="n">cfg</span><span class="p">,</span>
   <span class="n">mli_tensor</span> <span class="o">*</span><span class="n">out</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h3>Parameters<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<table border="1" class="colwidths-given docutils" id="id4">
<caption><span class="caption-text">Kernel Interface Parameters</span><a class="headerlink" href="#id4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Parameters</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">in</span></code></td>
<td>[IN] Pointer to input
tensor</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">cfg</span></code></td>
<td>[IN] Pointer to
configuration
structure with
permutation order</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">out</span></code></td>
<td>[OUT] Pointer to the
output tensor. Result
is stored here</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="kernel-specializations">
<span id="kernel-specializations-13"></span><h2>Kernel Specializations<a class="headerlink" href="#kernel-specializations" title="Permalink to this headline">¶</a></h2>
<table border="1" class="colwidths-given docutils" id="id5">
<caption><span class="caption-text">Non-Specialized Functions</span><a class="headerlink" href="#id5" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Function</strong></th>
<th class="head"><strong>Description</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">mli_krn_permute_fx8</span></code></td>
<td>General function; 8bit FX elements;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">mli_krn_permute_fx16</span></code></td>
<td>General function; 16bit FX elements;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="conditions-for-applying-the-kernel">
<span id="conditions-for-applying-the-kernel-13"></span><h2>Conditions for Applying the Kernel<a class="headerlink" href="#conditions-for-applying-the-kernel" title="Permalink to this headline">¶</a></h2>
<p>Ensure that you satisfy the following conditions before applying the
function:</p>
<ul class="simple">
<li>Input, tensors must be valid (see <a class="reference internal" href="../library_model/data.html#mli-tns-struct"><span class="std std-ref">mli_tensor Structure</span></a>)</li>
<li>Only first N=rank_of_input_tensor values in permutation order array
are considered by kernel. All of them must be unique, non-negative
and less then rank of the input tensor</li>
<li>Before processing, output tensor must contain a valid pointer to a
buffer with sufficient capacity enough for storing the result
(that is, the total amount of elements in input tensor). Other
fields are filled by kernel (shape, rank and element specific
parameters)</li>
<li>Buffers of input and output tensors must point to different
not-overlapped memory regions.</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="data_manip_pad2d.html" class="btn btn-neutral float-right" title="Padding 2D" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="data_manip_concat.html" class="btn btn-neutral float-left" title="Concatenation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Synopsys, Inc

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>