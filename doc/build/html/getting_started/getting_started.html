

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Getting Started &mdash; embARC Machine Learning Inference Library 1.00 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/style_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Library Model" href="../library_model/library_model.html" />
    <link rel="prev" title="Overview" href="../overview/overview.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> embARC Machine Learning Inference Library
          

          
          </a>

          
            
            
              <div class="version">
                1.00
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview/overview.html">Overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#build-library">Build Library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#build-requirements">Build requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-process">Build Process</a></li>
<li class="toctree-l3"><a class="reference internal" href="#optional-parameters-for-target-platform">Optional Parameters for Target Platform</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#build-and-run-examples">Build and Run Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#build-debug-version-of-library-using-custom-tcf">Build Debug Version of Library Using Custom TCF</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-debug-version-of-example-application-using-custom-tcf">Build Debug Version of Example Application Using Custom TCF</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-and-simulate-debug-version-of-example-application-using-custom-tcf">Build and Simulate Debug Version of Example Application Using Custom TCF</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#project-structure">Project Structure</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../library_model/library_model.html">Library Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MLI_FP_data_format/MLI_FP_data_format.html">MLI Fixed-Point Data Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MLI_kernels/MLI_kernels.html">MLI Kernels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MLI_helpers/MLI_helpers.html">MLI Helpers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Examples_Tutorials/Examples_Tutorials.html">Examples and Tutorials</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">embARC Machine Learning Inference Library</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Getting Started</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/getting_started/getting_started.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<p>The MLI library provides a basic set of functions running on the ARC
EM DSP and HS cores. It is intended to solve typical machine learning
tasks in a portable or low-power system. This library is designed
with ease of use and low overhead in mind.</p>
<div class="section" id="build-library">
<span id="bld-lib"></span><h2>Build Library<a class="headerlink" href="#build-library" title="Permalink to this headline">¶</a></h2>
<p>By default, the embARC MLI Library can be built for <code class="docutils literal notranslate"><span class="pre">/hw/em9d.tcf</span></code> that is based on
the standard EM9D Voice Audio template, defined in MetaWare Development Tools with extended
XY memory. The embARC MLI Library can be also built for a specific EM or HS configuration.</p>
<div class="section" id="build-requirements">
<h3>Build requirements<a class="headerlink" href="#build-requirements" title="Permalink to this headline">¶</a></h3>
<p>MetaWare Development tools 2018.12 or later</p>
</div>
<div class="section" id="build-process">
<h3>Build Process<a class="headerlink" href="#build-process" title="Permalink to this headline">¶</a></h3>
<p>To verify the build process, run the following root makefile command
to rebuild the project from scratch including  ELF for examples and static library:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> gmake all
</pre></div>
</div>
<p>After the build process completes, the output files are found inside
the bin directory created by the make tool:</p>
<p>On Windows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;</span> dir /b /s <span class="se">\*</span>.elf <span class="se">\*</span>.a
</pre></div>
</div>
<p>On Linux:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> find -name ‘<span class="se">\*</span>.a’ -o -name ‘<span class="se">\*</span>.elf’
</pre></div>
</div>
<p>Expected console output on windows is next:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.</span>\<span class="nb">bin</span>\<span class="n">libmli</span><span class="o">.</span><span class="n">a</span>
<span class="o">.</span>\<span class="n">examples</span>\<span class="n">example_cifar10_caffe</span>\<span class="nb">bin</span>\<span class="n">example_cifar10_caffe</span><span class="o">.</span><span class="n">elf</span>
<span class="o">.</span>\<span class="n">examples</span>\<span class="n">example_har_smartphone</span>\<span class="nb">bin</span>\<span class="n">example_har_smartphone</span><span class="o">.</span><span class="n">elf</span>
</pre></div>
</div>
<p>The project build system allows to build the library and examples separately.
Library and each example have a separate makefile which uses common rules from <code class="docutils literal notranslate"><span class="pre">build/rules.mk</span></code>.
To build the embARC MLI library defined by a TCF file, use the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> gmake all <span class="nv">TCF_FILE</span><span class="o">=</span>C:<span class="se">\A</span>RC<span class="se">\P</span>rojects<span class="se">\m</span>y_project<span class="se">\b</span>uild<span class="se">\t</span>ool_config<span class="se">\a</span>rc.tcf
</pre></div>
</div>
</div>
<div class="section" id="optional-parameters-for-target-platform">
<h3>Optional Parameters for Target Platform<a class="headerlink" href="#optional-parameters-for-target-platform" title="Permalink to this headline">¶</a></h3>
<p>The Build system supports a common set of optional parameters to configure the target platform,
output/intermediate files placement, and provides extra parameters to build tool or application.</p>
<table border="1" class="colwidths-given docutils" id="id1">
<caption><span class="caption-text">Optional Parameters for Target Platform</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Parameter</strong></th>
<th class="head"><strong>Description</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">TCF_FILE</span></code></td>
<td>The name of the TCF provided
as a part of the MWDT package
or a full path of the custom
TCF</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">LIBRARY_DIR</span></code></td>
<td>Target directory to create the
static library</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">BUILD_DIR</span></code></td>
<td>Target directory to store the
intermediate files (object
files, and so on).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">OUT_DIR</span></code></td>
<td>Target directory to create the
example ELF</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">OUT_NAME</span></code></td>
<td>Custom file name of the
library or example</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">LCF_FILE</span></code></td>
<td>Custom linker script file to
use to build the example. Dy
default, the linker script is
obtained from the TCF.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">EXT_CFLAGS</span></code></td>
<td>Additional C compiler flags to
use</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">RUN_ARGS</span></code></td>
<td>Application command line arguments</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="build-and-run-examples">
<span id="bld-run-ex"></span><h2>Build and Run Examples<a class="headerlink" href="#build-and-run-examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="build-debug-version-of-library-using-custom-tcf">
<h3>Build Debug Version of Library Using Custom TCF<a class="headerlink" href="#build-debug-version-of-library-using-custom-tcf" title="Permalink to this headline">¶</a></h3>
<p>To build the debug version of the library using the custom TCF and
to store the output file in the directory outside the project, use the
following commands:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> lib<span class="se">\m</span>ake
<span class="gp">$</span> gmake <span class="nv">TCF_FILE</span><span class="o">=</span>C:<span class="se">\A</span>RC<span class="se">\P</span>rojects<span class="se">\m</span>y_project<span class="se">\b</span>uild<span class="se">\t</span>ool_config<span class="se">\a</span>rc.tcf <span class="nv">EXT_CFLAGS</span><span class="o">=</span>-g <span class="nv">LIBRARY_DIR</span><span class="o">=</span>C:<span class="se">\b</span>in
</pre></div>
</div>
<p>Example applications also provide the separate makefiles to make the
customized applications build.</p>
</div>
<div class="section" id="build-debug-version-of-example-application-using-custom-tcf">
<h3>Build Debug Version of Example Application Using Custom TCF<a class="headerlink" href="#build-debug-version-of-example-application-using-custom-tcf" title="Permalink to this headline">¶</a></h3>
<p>To build the debug version of the <code class="docutils literal notranslate"><span class="pre">cifar10_caffe</span></code> example application
using the custom TCF, use the following commands:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> examples<span class="se">\e</span>xample_cifar10_caffe
<span class="gp">$</span> gmake <span class="nv">TCF_FILE</span><span class="o">=</span>C:<span class="se">\A</span>RC<span class="se">\P</span>rojects<span class="se">\m</span>y_project<span class="se">\b</span>uild<span class="se">\t</span>ool_config<span class="se">\a</span>rc.tcf <span class="nv">EXT_CFLAGS</span><span class="o">=</span>-g
</pre></div>
</div>
<p>Example application makefiles support the target run to execute the
application using the NSIM simulator. Note that this target
requires the TCF name to be provided to setup the simulation
environment.</p>
</div>
<div class="section" id="build-and-simulate-debug-version-of-example-application-using-custom-tcf">
<h3>Build and Simulate Debug Version of Example Application Using Custom TCF<a class="headerlink" href="#build-and-simulate-debug-version-of-example-application-using-custom-tcf" title="Permalink to this headline">¶</a></h3>
<p>To build <code class="docutils literal notranslate"><span class="pre">cifar10_caffe</span></code> example application using the custom TCF and
starting the simulation, use the following commands:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> examples<span class="se">\e</span>xample_cifar10_caffe
<span class="gp">$</span> gmake <span class="nv">TCF_FILE</span><span class="o">=</span>C:<span class="se">\A</span>RC<span class="se">\P</span>rojects<span class="se">\m</span>y_project<span class="se">\b</span>uild<span class="se">\t</span>ool_config<span class="se">\a</span>rc.tcf
<span class="gp">$</span> gmake run <span class="nv">TCF_FILE</span><span class="o">=</span>C:<span class="se">\A</span>RC<span class="se">\P</span>rojects<span class="se">\m</span>y_project<span class="se">\b</span>uild<span class="se">\t</span>ool_config<span class="se">\a</span>rc.tcf
</pre></div>
</div>
</div>
</div>
<div class="section" id="project-structure">
<span id="pkg-struct"></span><h2>Project Structure<a class="headerlink" href="#project-structure" title="Permalink to this headline">¶</a></h2>
<p>The repo is organized as follows:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">./build/</span></code>: Contains common build rules.</li>
<li><code class="docutils literal notranslate"><span class="pre">./build/rules.mk</span></code>: The common makefile that declares the generic build targets and rules.</li>
<li><code class="docutils literal notranslate"><span class="pre">./doc/</span></code>: Contains sources of embARC MLI library documentation (what you are reading now).</li>
<li><code class="docutils literal notranslate"><span class="pre">./include/</span></code>:  Include files with API prototypes and types. Subject for more attention.</li>
<li><code class="docutils literal notranslate"><span class="pre">./include/mli_api.h</span></code>: High level header used by application. Includes all required headers for working with library.</li>
<li><code class="docutils literal notranslate"><span class="pre">./include/mli_types.h</span></code>: Header that conglomerates all public library specific data types.</li>
<li><code class="docutils literal notranslate"><span class="pre">./include/mli_config.h</span></code>: Configuration header with definitions used for library implementation configu-rability.</li>
<li><code class="docutils literal notranslate"><span class="pre">./include/api/</span></code>: The subdirectory that contains the set of low level public headers declaring the API.</li>
<li><code class="docutils literal notranslate"><span class="pre">./include/api/mli_helpers_api.h</span></code>: Header with declarations for helper functions</li>
<li><code class="docutils literal notranslate"><span class="pre">./include/api/mli_kernels_api.h</span></code>: Header with declarations for kernel functions</li>
<li><code class="docutils literal notranslate"><span class="pre">./include/api/mli_krn_avepool_spec_api.h</span></code>: Header with declarations for average pooling special-izations</li>
<li><code class="docutils literal notranslate"><span class="pre">./include/api/mli_krn_conv2d_spec_api.h</span></code>: Header with declarations for convolution 2D speciali-zations</li>
<li><code class="docutils literal notranslate"><span class="pre">./include/api/mli_krn_depthwise_conv2d_spec_api.h</span></code>: Header with declarations for depth-wise convolution specializations</li>
<li><code class="docutils literal notranslate"><span class="pre">./include/api/mli_krn_maxpool_spec_api.h</span></code>: Header with declarations for max pooling specializa-tions</li>
<li><code class="docutils literal notranslate"><span class="pre">./lib/</span></code>: Source code and build scripts of embARC MLI Library</li>
<li><code class="docutils literal notranslate"><span class="pre">./examples/</span></code>: Source code of examples</li>
<li><code class="docutils literal notranslate"><span class="pre">./examples/example_cifar10_caffe/</span></code>: Convolutional Neural Network example for CIFAR-10 dataset.</li>
<li><code class="docutils literal notranslate"><span class="pre">./examples/example_har_smartphone/</span></code>: LSTM based Human activity recognition example.</li>
<li><code class="docutils literal notranslate"><span class="pre">./examples/auxiliary/</span></code>: Common helper code that is used by the examples.</li>
<li><code class="docutils literal notranslate"><span class="pre">./examples/prebuilt/</span></code>: Library to be filled with prebuilt MLI Library for working with examples via ARC GNU tools.</li>
<li><code class="docutils literal notranslate"><span class="pre">./hw/</span></code>: Contains HW templates (*.tcf files)</li>
<li><code class="docutils literal notranslate"><span class="pre">./Makefile</span></code>: Root makefile that allows to build or clean library and the set of example applications.</li>
<li><code class="docutils literal notranslate"><span class="pre">./README.md</span></code>: Short description and quick start instructions for embARC MLI Library</li>
<li><code class="docutils literal notranslate"><span class="pre">./LICENSE</span></code>: License notes</li>
</ul>
<p>After you have built library, the following entities will appear in the structure:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">./obj/</span></code>: Directory holder for library object and dependency files created during build</li>
<li><code class="docutils literal notranslate"><span class="pre">./bin/</span></code>: Directory holder for embARC MLI library binaries created during build</li>
<li><code class="docutils literal notranslate"><span class="pre">./bin/libmli.a</span></code>: embARC MLI library archive file (static library)</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../library_model/library_model.html" class="btn btn-neutral float-right" title="Library Model" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../overview/overview.html" class="btn btn-neutral float-left" title="Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Synopsys, Inc

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>